'use client';

import React from 'react';
import Script from 'next/script';
import MallMap from '@/components/map/MallMap';
import { Header } from '@/components/layout/Header';
import { Footer } from '@/components/layout/Footer';

// Component này chứa toàn bộ các SVG Symbol dùng cho icon trong map
// Copy từ phần <svg class="hidden"> trong index.html gốc
const MapIcons = () => (
  <svg style={{ display: 'none' }}>
    <defs>
      <symbol id="icon-pin" viewBox="0 0 200 300">
        <title>pin</title>
        <path d="M100,21.78A85,85,0,0,0,15.18,106.6c0,18.85,12.08,49.52,36.76,93.9,17.48,31.36,34.7,57.49,35.47,58.6L100,278.22l12.59-19.11c0.69-1.11,18-27.25,35.47-58.6,24.76-44.38,36.76-75.06,36.76-93.9A85,85,0,0,0,100,21.78Z" />
      </symbol>
      <symbol id="icon-search" viewBox="0 0 32 32">
        <title>search</title>
        <path className="path1" d="M26.819 24.917c0.262 0.262 0.262 0.688 0 0.951l-0.951 0.951c-0.263 0.262-0.688 0.262-0.951 0l-6.656-6.656c-0.072-0.072-0.12-0.158-0.153-0.248-1.365 0.998-3.041 1.593-4.862 1.593-4.562 0-8.261-3.699-8.261-8.261s3.699-8.261 8.261-8.261c4.562 0 8.261 3.699 8.261 8.261 0 1.821-0.595 3.497-1.593 4.862 0.091 0.032 0.176 0.080 0.248 0.153l6.656 6.656zM13.246 7.739c-3.041 0-5.508 2.466-5.508 5.508s2.466 5.508 5.508 5.508 5.508-2.466 5.508-5.508c0-3.041-2.466-5.508-5.508-5.508z"></path>
      </symbol>
      <symbol id="icon-stack" viewBox="0 0 32 32">
        <title>stack</title>
        <path className="path1" d="M29.143 11.071l-13.143-6.571-13.143 6.571 13.143 6.571 13.143-6.571zM16 6.681l8.781 4.39-8.781 4.39-8.781-4.39 8.781-4.39zM26.51 14.684l2.633 1.316-13.143 6.571-13.143-6.571 2.633-1.316 10.51 5.255zM26.51 19.612l2.633 1.316-13.143 6.571-13.143-6.571 2.633-1.316 10.51 5.255z"></path>
      </symbol>
      <symbol id="icon-cross" viewBox="0 0 24 24">
        <title>cross</title>
        <path className="path1" d="M18.016 5.125q0.369 0 0.614 0.245t0.245 0.614q0 0.363-0.248 0.611l-5.411 5.405 5.411 5.405q0.248 0.248 0.248 0.611 0 0.369-0.245 0.614t-0.614 0.245q-0.363 0-0.611-0.248l-5.405-5.411-5.405 5.411q-0.248 0.248-0.611 0.248-0.369 0-0.614-0.245t-0.245-0.614q0-0.363 0.248-0.611l5.411-5.405-5.411-5.405q-0.248-0.248-0.248-0.611 0-0.369 0.245-0.614t0.614-0.245q0.363 0 0.611 0.248l5.405 5.411 5.405-5.411q0.248-0.248 0.611-0.248z"></path>
      </symbol>
      <symbol id="icon-appleheart" viewBox="0 0 32 32">
        <title>appleheart</title>
        <path className="path1" d="M17.428 8.953h0c1.078 0 4.549-0.553 5.979-1.799 1.455-1.269 2.040-2.842 2.274-3.938 0.226-1.061 0.252-2.369-0.202-2.9-0.193-0.225-0.501-0.317-1.063-0.317-1.354 0-4.171 0.56-5.966 2.062-1.551 1.298-2.179 3.505-2.246 5-0.054 1.219 0.266 1.539 0.371 1.644 0.217 0.217 0.539 0.247 0.854 0.247z"></path>
        <path className="path2" d="M29.197 17.412c-0.056-2.204-0.93-4.165-2.595-5.831-1.25-1.25-2.68-1.858-4.371-1.858-1.509 0-2.912 0.495-4.151 0.933-0.803 0.284-1.563 0.552-2.080 0.574-0.517-0.022-1.277-0.29-2.082-0.574-1.238-0.437-2.64-0.933-4.149-0.933-1.691 0-3.121 0.608-4.371 1.858-1.665 1.665-2.538 3.627-2.595 5.831-0.047 1.84 0.47 3.5 0.847 4.712l0.038 0.124c0.374 1.203 1.192 3.532 2.471 5.62 1.68 2.742 3.579 4.132 5.644 4.132 2.441 0 3.289-0.437 3.909-0.757 0.199-0.103 0.236-0.119 0.291-0.123 0.099 0.007 0.155 0.031 0.396 0.149 0.633 0.309 1.499 0.731 3.797 0.731 2.065 0 3.964-1.39 5.644-4.132 1.279-2.088 2.097-4.417 2.47-5.618l0.038-0.124c0.378-1.213 0.895-2.874 0.848-4.713zM21.117 21.223c-0.807 1.228-4.492 4.302-5.038 4.302-0.54 0-4.247-3.085-5.049-4.302-0.402-0.61-0.687-1.282-0.639-2.167 0.084-1.565 1.364-2.858 2.931-2.858 1.611 0 2.403 1.394 2.752 1.394 0.326 0 1.21-1.394 2.752-1.394 1.568 0 2.847 1.293 2.931 2.858 0.047 0.884-0.237 1.554-0.64 2.167z"></path>
      </symbol>
      <symbol id="icon-bananas" viewBox="0 0 32 32">
        <title>bananas</title>
        <path className="path1" d="M11.952 22.366c1.323-0.015 2.625-0.214 3.87-0.595 1.292-0.395 2.489-0.973 3.56-1.719 1.63-1.136 2.951-2.583 3.924-4.302 0.062-0.122 0.125-0.25 0.194-0.391 0.332-0.678 0.637-1.408 0.882-2.11 0.060-0.172 0.113-0.376 0.169-0.592 0.161-0.62 0.373-1.438 0.959-2.141l-0.262-2.489c-0.051-0.487 0.011-1.007 0.175-1.463 0.235-0.654 0.677-1.158 1.244-1.421 0.18-0.083 0.375-0.126 0.573-0.126 0.010 0 0.020 0 0.030 0 0.045 0.001 0.3 0.008 0.665 0.047 0.143-0.865 0.301-1.819 0.316-1.913-0.333-1.136-2.583-1.84-2.69-1.873-0.403 0.070-0.873 0.526-0.995 1.268l-0.518 3.136-0.009 0.004c-0.004 0.002-0.008 0.003-0.012 0.005l-0.005 0.002c-0.059 0.024-0.129 0.053-0.2 0.089-0.645 0.33-0.989 0.928-1.322 1.507-0.12 0.209-0.244 0.425-0.38 0.621-0.453 0.657-0.976 1.325-1.513 1.931-0.116 0.131-0.22 0.248-0.325 0.364-1.546 1.557-3.384 2.72-5.463 3.456-3.015 1.067-6.427 1.063-9.606-0.012-0.201-0.068-0.404-0.141-0.603-0.218-0.218-0.084-0.489-0.188-0.778-0.286-0.5-0.169-1.139-0.351-1.755-0.351-0.382 0-0.755 0.070-1.081 0.255-0.281 0.16-0.51 0.397-0.682 0.706-0.674 1.213-0.153 2.2 0.51 3.087 0.603 0.806 1.293 1.515 2.051 2.107 1.451 1.134 3.070 2.007 4.811 2.595 1.397 0.472 2.832 0.746 4.266 0.822z"></path>
        <path className="path2" d="M30.706 10.861c0 0-0.342-3.254-0.355-3.378-0.459-0.749-1.847-0.991-2.604-1.068-0.006-0.001-0.011-0.001-0.017-0.002s-0.011-0.001-0.017-0.002c-0.285-0.028-0.472-0.032-0.472-0.032-0.521 0.241-0.692 0.979-0.637 1.505l0.331 3.151c-0.003 0.003-0.007 0.005-0.010 0.007l-0.005 0.004c-0.051 0.039-0.111 0.086-0.17 0.14-0.538 0.492-0.712 1.163-0.88 1.812-0.060 0.233-0.123 0.474-0.201 0.698-0.262 0.753-0.589 1.535-0.945 2.261-0.077 0.156-0.146 0.297-0.217 0.437-0.422 0.748-0.903 1.45-1.442 2.103-0.022 0.027-0.045 0.054-0.067 0.081-0.024 0.028-0.048 0.057-0.072 0.085-0.803 0.944-1.727 1.782-2.765 2.506-2.389 1.664-5.331 2.56-8.367 2.56-0.295 0-0.591-0.008-0.888-0.026-0.212-0.012-0.427-0.029-0.638-0.050-0.232-0.023-0.522-0.052-0.826-0.069-0.168-0.010-0.35-0.017-0.539-0.017-0.775 0-1.672 0.12-2.234 0.682-0.231 0.231-0.39 0.523-0.475 0.869-0.33 1.358 0.438 2.176 1.317 2.858 0.796 0.618 1.651 1.119 2.54 1.489 1.702 0.709 3.496 1.122 5.332 1.227 0.311 0.018 0.622 0.027 0.931 0.027 3.604 0 7.066-1.206 9.837-3.442 4.403-3.554 6.563-9.222 5.637-14.794-0.11-0.664-0.504-1.253-1.083-1.624z"></path>
      </symbol>
      <symbol id="icon-origami" viewBox="0 0 32 32">
        <title>origami</title>
        <path className="path1" d="M31.688 6.637l-9.869 11.975c-0.291 0.355-0.555 1.011-0.589 1.469l-0.624 8.52c-0.034 0.458 0.294 0.94 0.732 1.078l1.085 0.342c0.438 0.138 0.921-0.099 1.081-0.53l8.423-22.716c0.16-0.43 0.053-0.492-0.238-0.138z"></path>
        <path className="path2" d="M10.093 17.743l-4.838-6.407c-0.277-0.366-0.848-0.531-1.277-0.368l-0.971 0.369c-0.214 0.081-0.439 0.243-0.629 0.438-0.297 0.306-0.662 1.344-0.962 2.211l-0.816 2.363c-0.3 0.867-0.744 1.836-0.555 1.961 0.063 0.039 0.187-0.014 0.356-0.167l2.627-2.385c0.34-0.308 0.734-0.207 0.884 0.227 0.989 2.851 3.851 10.946 4.756 13.502 0.153 0.433 0.631 0.668 1.067 0.527l0.751-0.242c0.437-0.142 0.767-0.627 0.739-1.085l-0.581-9.453c-0.028-0.457-0.275-1.124-0.551-1.491z"></path>
        <path className="path3" d="M19.662 15.52l-3.082-11.642c-0.235-0.887-0.407-1.938-0.636-1.937s-0.397 1.053-0.628 1.941l-3.442 13.243c-0.115 0.443-0.189 1.175-0.166 1.632l0.076 1.481 0.429 8.278c0.007 0.145 0.015 0.277 0.022 0.393 0.012 0.217 0.201 0.316 0.427 0.252 0.121-0.033 0.262-0.070 0.412-0.106l2.059-0.502c0.446-0.107 1.168-0.107 1.614 0.002l2.828 0.696c0.018 0.006 0.539-8.319 0.539-8.319l0.135-2.175c0.014-0.229 0.003-0.526-0.025-0.821-0.045-0.452-0.326-1.529-0.561-2.416z"></path>
      </symbol>
      <symbol id="icon-angle-up" viewBox="0 0 21 32">
        <title>angle-up</title>
        <path className="path1" d="M19.196 21.143q0 0.232-0.179 0.411l-0.893 0.893q-0.179 0.179-0.411 0.179t-0.411-0.179l-7.018-7.018-7.018 7.018q-0.179 0.179-0.411 0.179t-0.411-0.179l-0.893-0.893q-0.179-0.179-0.179-0.411t0.179-0.411l8.321-8.321q0.179-0.179 0.411-0.179t0.411 0.179l8.321 8.321q0.179 0.179 0.179 0.411z"></path>
      </symbol>
      <symbol id="icon-angle-down" viewBox="0 0 21 32">
        <title>angle-down</title>
        <path className="path1" d="M19.196 13.143q0 0.232-0.179 0.411l-8.321 8.321q-0.179 0.179-0.411 0.179t-0.411-0.179l-8.321-8.321q-0.179-0.179-0.179-0.411t0.179-0.411l0.893-0.893q0.179-0.179 0.411-0.179t0.411 0.179l7.018 7.018 7.018-7.018q0.179-0.179 0.411-0.179t0.411 0.179l0.893 0.893q0.179 0.179 0.179 0.411z"></path>
      </symbol>
    </defs>
  </svg>
);

export default function PhongNghiPage() {
  return (
    <>
      <Header />
      <main className="min-h-screen bg-gray-100 py-10">
        <div className="mx-auto px-4" style={{ maxWidth: '1400px' }}>
          <div className="mb-8 text-center">
            <h1 className="text-3xl font-bold text-gray-800">Bản đồ phòng nghỉ</h1>
            <p className="text-gray-600">Khám phá không gian nghỉ ngơi tiện nghi tại Postpartum Service</p>
          </div>

          {/* MallMap sẽ tự quản lý class .container và .main bên trong */}
          <div className="mallmap-integration bg-white rounded-lg shadow-xl overflow-hidden">
            <MapIcons />
            <MallMap />
          </div>
        </div>
      </main>
      <Footer />

      {/* Tải các script hỗ trợ từ public - Chỉ giữ các script tiện ích, logic chính sẽ đưa vào component */}
      <Script src="/Interactive3DMallMap/js/modernizr-custom.js" strategy="beforeInteractive" />
      <Script src="/Interactive3DMallMap/js/classie.js" strategy="afterInteractive" />
      <Script src="/Interactive3DMallMap/js/list.min.js" strategy="afterInteractive" />
    </>
  );
}
